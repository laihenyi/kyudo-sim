# Kyudo Simulation (å¼“é“å°„æ³•æ¨¡æ“¬)

é€™æ˜¯ä¸€å€‹åŸºæ–¼ Web çš„å¼“é“ï¼ˆKyudoï¼‰å°„æ³•æ¨¡æ“¬å™¨ï¼Œæ—¨åœ¨æ¨¡æ“¬å¼“é“ä¸­çš„ã€Œå°„æ³•å…«ç¯€ã€æµç¨‹ä»¥åŠå°„æ“Šé«”é©—ã€‚

## âœ¨ ç‰¹è‰²

*   **å°„æ³•å…«ç¯€æ¨¡æ“¬**ï¼šå®Œæ•´å‘ˆç¾å¾è¶³è¸ã¿ (Ashibumi) åˆ° æ®˜å¿ƒ (Zanshin) çš„å…«å€‹éšæ®µå‹•ç•«ã€‚
*   **è¦–è¦ºå‡ç´š (Visuals)**ï¼š
    *   **å‘é‡é¢¨æ ¼å°„æ‰‹**ï¼šç©¿è‘—æ¨™æº–å¼“é“æœï¼ˆå¼“é“è¡£ã€è¢´ã€è¶³è¢‹ï¼‰èˆ‡ç²¾ç´°è£å‚™ï¼ˆç«¹å¼“ã€å¼½ï¼‰ã€‚
    *   **æ“¬çœŸé“å ´å ´æ™¯**ï¼šåŒ…å«å®‰åœŸã€æ¨™é¶èšå…‰ç‡ˆèˆ‡é“å ´ç‰†é¢ç´°ç¯€ã€‚
*   **ç‰©ç†æ¨¡æ“¬**ï¼š
    *   å¯èª¿æ•´å¼“åŠ› (10-30 kg) èˆ‡ ç®­é‡ (20-35 g)
    *   **çœŸå¯¦å½ˆé“è¨ˆç®—**ï¼šåŸºæ–¼èƒ½é‡å®ˆæ†èˆ‡é‡åŠ›ä¸‹å¢œï¼Œå‹•æ…‹è¨ˆç®—æ‹‹ç‰©ç·šã€‚
    *   **æ¨¡æ“¬å‘¼å¸éœ‡å¹…**ï¼šå¯èª¿æ•´å‘¼å¸é€ æˆçš„ç„æº–æ™ƒå‹• (0-15)ã€‚
*   **è¦–è¦ºå›é¥‹**ï¼š
    *   **ä¸»è¦–è§’**ï¼šæ¨¡æ“¬å°„æ‰‹çš„ç¬¬ä¸€äººç¨±è¦–è§’ã€‚
    *   **SVG å‹•ç•«çª—æ ¼**ï¼šå·¦å´é¡¯ç¤ºå°„æ‰‹éª¨æ¶èˆ‡å‹•ä½œç´°ç¯€ï¼ŒåŒ…å«çœŸå¯¦çš„æ¡å¼“ (Tenouchi) å‹•æ…‹ã€‚
    *   **é‡æ’­ç³»çµ± (Replay)**ï¼š
        *   **é¶é¢ç‰¹å¯«**ï¼šç•¶ç®­çŸ¢ä¸­é¶æˆ–æ¥è¿‘é¶å¿ƒæ™‚ï¼Œé¡¯ç¤ºé¶é¢è½é»ã€‚
        *   **é·¹çœ¼è¦–è§’ (Hawk-Eye)**ï¼šä»¥**å°„æ‰‹è¦–è§’**å‘ˆç¾ 3D ç«‹é«”æ‹‹ç‰©ç·šè»Œè·¡ï¼Œå¼§åº¦ç”±ç‰©ç†å¼•æ“å‹•æ…‹è¨ˆç®—ã€‚
*   **éŸ³æ•ˆç³»çµ±**ï¼šåŒ…å«ç™¼å°„èˆ‡ä¸­é¶çš„éŸ³æ•ˆå›é¥‹ã€‚

## ğŸ® æ“ä½œæŒ‡å—

1.  **å•Ÿå‹•æµç¨‹**ï¼š
    *   é–‹å•Ÿç¶²é å¾Œï¼Œå·¦å´é¢æ¿æœƒé¡¯ç¤ºã€Œå°„æ³•å…«ç¯€ã€çš„é€²åº¦ã€‚
    *   ç³»çµ±æœƒè‡ªå‹•é€²è¡Œå‹•ä½œæ¼”ç¤ºï¼Œç›´åˆ°é€²å…¥ **ã€Œä¼š (Kai)ã€** éšæ®µã€‚

2.  **ç„æº–èˆ‡ç™¼å°„**ï¼š
    *   ç•¶é€²å…¥ã€Œä¼šã€éšæ®µæ™‚ï¼Œ**[ç™¼å°„ (Hanare)]** æŒ‰éˆ•æœƒäº®èµ·ä¸¦é–ƒçˆã€‚
    *   **ç„æº–**ï¼š
        *   ä½¿ç”¨ **æ–¹å‘éµ (â†‘ â†“ â† â†’)** å¾®èª¿æº–å¿ƒä½ç½®ã€‚
        *   æˆ–ä½¿ç”¨ **æ»‘é¼ /è§¸æ§** æ‹–æ›³ç•«é¢é€²è¡Œç„æº–ã€‚
    *   **ç™¼å°„**ï¼š
        *   æŒ‰ä¸‹ **ç©ºç™½éµ (Space)** æˆ–é»æ“Š **[ç™¼å°„]** æŒ‰éˆ•ã€‚

3.  **åƒæ•¸èª¿æ•´**ï¼š
    *   å·¦å´é¢æ¿å¯å³æ™‚èª¿æ•´ï¼š
        *   **å¼“åŠ› (10-30 kg)**ï¼šå½±éŸ¿ç®­çŸ¢åˆé€Ÿèˆ‡å°„ç¨‹
        *   **ç®­é‡ (20-35 g)**ï¼šå½±éŸ¿å½ˆé“ä¸‹å¢œå¹…åº¦
        *   **å·¦å³ç„æº–ä¿®æ­£ (Azuke)**ï¼šæ°´å¹³ç„æº–åç§»é‡
        *   **ä¸Šä¸‹ç„æº–ä¿®æ­£ (Height)**ï¼šå‚ç›´ç„æº–åç§»é‡
        *   **å‘¼å¸éœ‡å¹… (Breath 0-15)**ï¼šæ¨¡æ“¬å‘¼å¸èˆ‡æ‰‹éƒ¨æ™ƒå‹•å¼·åº¦

4.  **çµæœåˆ¤å®š**ï¼š
    *   **çš†ä¸­ (KaichÅ«)!!** - è·é›¢é¶å¿ƒ 5cm å…§ï¼ˆé»ƒè‰²ï¼‰
    *   **ä¸­ (Atari)!** - å‘½ä¸­é¶é¢ 18cm å…§ï¼ˆç¶ è‰²ï¼‰
    *   **æ®˜å¿µ (Zannen)** - è„«é¶ä½†åœ¨ 5m ç¯„åœå…§ï¼ˆç°è‰²ï¼‰
    *   **è„«é¶ (Out of Range)** - å®Œå…¨è„«é›¢å°„ç¨‹

5.  **é‡æ–°é–‹å§‹**ï¼š
    *   å°„æ“Šå®Œæˆå¾Œï¼ŒæŒ‰ **ç©ºç™½éµ** æˆ– **Enter** é‡æ–°é€²å…¥å°„æ³•å…«ç¯€æµç¨‹ã€‚

## ğŸ¯ éŠç©æŠ€å·§

*   **ç„æº–è¦é ˜**ï¼š
    *   é¶å¿ƒä½æ–¼ç•«é¢ä¸­å¤®åå³ä½ç½®ï¼Œç´„åœ¨æº–å¿ƒæ°´å¹³ç·šä¸Šã€‚
    *   å‘¼å¸éœ‡å¹…è¶Šå¤§ï¼Œç„æº–é›£åº¦è¶Šé«˜ï¼Œå»ºè­°åˆå­¸è€…å¾ä½æ•¸å€¼é–‹å§‹ã€‚
    *   é•·æŒ‰æ–¹å‘éµå¯ä»¥é€£çºŒç§»å‹•ç„æº–é»ï¼Œé©åˆå¤§ç¯„åœèª¿æ•´ã€‚

*   **ç‰©ç†åƒæ•¸å»ºè­°**ï¼š
    *   **æ¨™æº–è¨­å®š**ï¼šå¼“åŠ› 15kgã€ç®­é‡ 28gï¼ˆæ¥è¿‘å¯¦éš›å¼“é“ç”¨å…·ï¼‰
    *   **é«˜å¼§åº¦**ï¼šå¢åŠ ç®­é‡æˆ–æ¸›å°‘å¼“åŠ›ï¼Œè§€å¯Ÿæ‹‹ç‰©ç·šå½ˆé“
    *   **é å°„æ¨¡å¼**ï¼šæœ€å¤§å¼“åŠ› 30kgã€æœ€è¼•ç®­é‡ 20g

*   **é‡æ’­ç³»çµ±è§€å¯Ÿ**ï¼š
    *   å‘½ä¸­æ™‚æœƒé¡¯ç¤º **é¶é¢ç‰¹å¯«**ï¼Œå¯è§€å¯Ÿè½é»ä½ç½®ã€‚
    *   è„«é¶æ™‚æœƒé¡¯ç¤º **é·¹çœ¼è¦–è§’**ï¼Œå‘ˆç¾å´é¢å½ˆé“è»Œè·¡èˆ‡è½é»ã€‚

## ğŸš€ å¿«é€Ÿé–‹å§‹

```bash
# æ–¹æ³•ä¸€ï¼šç›´æ¥é–‹å•Ÿ HTML æª”æ¡ˆ
open index.html

# æ–¹æ³•äºŒï¼šä½¿ç”¨æœ¬åœ°ä¼ºæœå™¨ï¼ˆæ¨è–¦ï¼‰
python3 -m http.server 8000
# ç„¶å¾Œåœ¨ç€è¦½å™¨é–‹å•Ÿ http://localhost:8000
```

## ğŸ“± è£ç½®æ”¯æ´

*   **æ¡Œé¢ç€è¦½å™¨**ï¼šå®Œæ•´é«”é©—ï¼Œå»ºè­°ä½¿ç”¨ Chromeã€Firefoxã€Safari æˆ– Edge
*   **è¡Œå‹•è£ç½®**ï¼šæ”¯æ´è§¸æ§æ“ä½œèˆ‡éŸ¿æ‡‰å¼ä½ˆå±€
*   **éŸ³æ•ˆ**ï¼šéœ€è¦ä½¿ç”¨è€…äº’å‹•å¾Œæ‰æœƒå•Ÿå‹•ï¼ˆç€è¦½å™¨å®‰å…¨æ”¿ç­–ï¼‰

## ğŸ¨ æŠ€è¡“ç‰¹è‰²

*   **ç´”å‰ç«¯å¯¦ä½œ**ï¼šç„¡éœ€å¾Œç«¯ä¼ºæœå™¨æˆ–å»ºæ§‹å·¥å…·
*   **SVG å‘é‡å‹•ç•«**ï¼šæµæš¢çš„å°„æ‰‹å‹•ä½œæ¼”ç¤ºï¼ˆå…¨æ—¥æœ¬å¼“é“é€£ç›Ÿ ANKF æ¨™æº–å§¿å‹¢ï¼‰
*   **çœŸå¯¦ç‰©ç†å¼•æ“**ï¼šåŸºæ–¼èƒ½é‡å®ˆæ†èˆ‡æ‹‹ç‰©ç·šé‹å‹•çš„å½ˆé“è¨ˆç®—ï¼Œä¸¦**å³æ™‚é©…å‹•è¦–è¦ºè»Œè·¡**ã€‚
*   **Web Audio éŸ³æ•ˆ**ï¼šç¨‹åºåŒ–ç”ŸæˆéŸ³æ•ˆï¼Œç„¡éœ€å¤–éƒ¨éŸ³è¨Šæª”æ¡ˆ

## ğŸ“ å°„æ³•å…«ç¯€ (Hassetsu)

1.  **è¶³è¸ã¿ (Ashibumi)** - ç«™ç«‹å®šä½
2.  **èƒ´é€ ã‚Š (DÅzukuri)** - èª¿æ•´èº«é«”å§¿å‹¢
3.  **æ‰“èµ·ã— (Uchiokoshi)** - èˆ‰å¼“è‡³ 45 åº¦
4.  **å¤§ä¸‰ (Daisan)** - å±•é–‹è‡³ã€Œå¤§ã€å­—å½¢
5.  **å¼•åˆ†ã‘ (Hikiwake)** - æ‹‰å¼¦æ“´å¼µ
6.  **ä¼š (Kai)** - æ»¿å¼•è“„åŠ›ï¼ˆå¯ç™¼å°„éšæ®µï¼‰
7.  **é›¢ã‚Œ (Hanare)** - æ”¾ç®­
8.  **æ®˜å¿ƒ (Zanshin)** - ç¶­æŒå§¿å‹¢æ”¶å°¾

## ğŸ“„ æˆæ¬Š

æœ¬å°ˆæ¡ˆç‚ºé–‹æºæ•™è‚²ç”¨é€”ï¼Œæ­¡è¿å­¸ç¿’èˆ‡æ”¹é€²ã€‚

---

# Kyudo Simulation (English)

This is a web-based Kyudo (Japanese Archery) simulation designed to simulate the "Shaho Hassetsu" (Eight Stages of Shooting) and the shooting experience.

## âœ¨ Features

*   **Shaho Hassetsu Simulation**: Fully demonstrates the eight stages of shooting from Ashibumi to Zanshin.
*   **Visual Upgrades**:
    *   **Vector Style Archer**: Features traditional Kyudo attire (Gi, Hakama, Tabi) and detailed equipment (Bamboo Bow, Yugake).
    *   **Realistic Dojo Scene**: Includes Azuchi (sand bank), target spotlight, and detailed dojo walls.
*   **Physics Simulation**:
    *   Adjustable Bow Power (10-30 kg) and Arrow Weight (20-35 g).
    *   **Realistic Ballistics**: Dynamic parabolic trajectory calculation based on energy conservation and gravity.
    *   **Breath Simulation**: Adjustable aiming sway caused by breathing (0-15).
*   **Visual Feedback**:
    *   **Main View**: Simulates the archer's first-person perspective.
    *   **SVG Animation Pane**: Displays the archer's skeleton and motion details on the left, including realistic Tenouchi (grip) dynamics.
    *   **Replay System**:
        *   **Target Close-up**: Shows the impact point on the target face when the arrow hits or is close.
        *   **Hawk-Eye View**: Displays a 3D parabolic trajectory from the **shooter's perspective** when the arrow misses but is within range, with the arc dynamically driven by the physics engine.
*   **Audio System**: Includes sound feedback for shooting and hitting the target.

## ğŸ® Operation Guide

1.  **Startup Process**:
    *   Upon opening the page, the left panel displays the progress of "Shaho Hassetsu".
    *   The system automatically demonstrates the movements until it enters the **"Kai"** stage.

2.  **Aiming and Shooting**:
    *   When entering the "Kai" stage, the **[Hanare]** button will light up and flash.
    *   **Aiming**:
        *   Use **Arrow Keys (â†‘ â†“ â† â†’)** to fine-tune the sight position.
        *   Or use **Mouse/Touch** to drag the screen for aiming.
    *   **Shooting**:
        *   Press **Spacebar** or click the **[Hanare]** button.

3.  **Parameter Adjustment**:
    *   Adjustable in real-time via the left panel:
        *   **Bow Power (10-30 kg)**: Affects initial velocity and range.
        *   **Arrow Weight (20-35 g)**: Affects trajectory drop.
        *   **Azuke (Horizontal Aim)**: Horizontal aiming offset.
        *   **Height (Vertical Aim)**: Vertical aiming offset.
        *   **Breath (0-15)**: Simulates the intensity of sway caused by breathing.

4.  **Result Judgment**:
    *   **KaichÅ« (All Hit)!!** - Within 5cm of the center (Yellow).
    *   **Atari (Hit)!** - Within 18cm of the target face (Green).
    *   **Zannen (Regret)** - Missed but within 5m range (Grey).
    *   **Out of Range** - Completely out of range.

5.  **Restart**:
    *   After shooting, press **Spacebar** or **Enter** to restart the Shaho Hassetsu process.

## ğŸ¯ Gameplay Tips

*   **Aiming Essentials**:
    *   The target center is located slightly to the right of the screen center, approximately on the horizontal line of the sight.
    *   Higher breath amplitude makes aiming more difficult; beginners are advised to start with low values.
    *   Long-press arrow keys for continuous movement, suitable for large adjustments.

*   **Physics Parameter Suggestions**:
    *   **Standard Setting**: 15kg Bow, 28g Arrow (Close to actual Kyudo equipment).
    *   **High Arc**: Increase arrow weight or decrease bow power to observe the parabolic trajectory.
    *   **Long Range Mode**: Max bow power 30kg, lightest arrow 20g.

*   **Replay System Observation**:
    *   **Target Close-up** is shown on hit to observe the impact point.
    *   **Hawk-Eye View** is shown on miss to visualize the side trajectory and landing point.

## ğŸš€ Quick Start

```bash
# Method 1: Open HTML file directly
open index.html

# Method 2: Use local server (Recommended)
python3 -m http.server 8000
# Then open http://localhost:8000 in your browser
```

## ğŸ“± Device Support

*   **Desktop Browser**: Full experience, Chrome, Firefox, Safari, or Edge recommended.
*   **Mobile Device**: Supports touch operation and responsive layout.
*   **Audio**: Requires user interaction to start (Browser security policy).

## ğŸ¨ Technical Features

*   **Pure Frontend Implementation**: No backend server or build tools required.
*   **SVG Vector Animation**: Smooth archer motion demonstration (ANKF standard posture).
*   **Real Physics Engine**: Ballistics calculation based on energy conservation and parabolic motion, **driving visual trajectory in real-time**.
*   **Web Audio**: Procedurally generated sound effects, no external audio files needed.

## ğŸ“ Shaho Hassetsu (Eight Stages)

1.  **Ashibumi** - Footing
2.  **DÅzukuri** - Correcting the Posture
3.  **Uchiokoshi** - Raising the Bow
4.  **Daisan** - Drawing the Bow (Third Stage)
5.  **Hikiwake** - Drawing Apart
6.  **Kai** - Full Draw (Ready to shoot)
7.  **Hanare** - Release
8.  **Zanshin** - Remaining Form / Continuation

## ğŸ“„ License

This project is for open-source educational purposes. Learning and improvement are welcome.

